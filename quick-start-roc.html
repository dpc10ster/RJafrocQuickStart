<!DOCTYPE html>
<html lang="" xml:lang="">
<head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>Chapter 2 JAFROC ROC data | The RJafroc Quick Start Book</title>
  <meta name="description" content="This book is for those already somewhat familiar running Windows JAFROC to analyze data. The Windows program has been replaced by RJafroc. This book dives into how to use RJafroc to analyze ROC/FROC data." />
  <meta name="generator" content="bookdown 0.32 and GitBook 2.6.7" />

  <meta property="og:title" content="Chapter 2 JAFROC ROC data | The RJafroc Quick Start Book" />
  <meta property="og:type" content="book" />
  
  <meta property="og:description" content="This book is for those already somewhat familiar running Windows JAFROC to analyze data. The Windows program has been replaced by RJafroc. This book dives into how to use RJafroc to analyze ROC/FROC data." />
  <meta name="github-repo" content="dpc10ster/RJafrocQuickStart" />

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="Chapter 2 JAFROC ROC data | The RJafroc Quick Start Book" />
  
  <meta name="twitter:description" content="This book is for those already somewhat familiar running Windows JAFROC to analyze data. The Windows program has been replaced by RJafroc. This book dives into how to use RJafroc to analyze ROC/FROC data." />
  

<meta name="author" content="Dev P. Chakraborty, PhD" />


<meta name="date" content="2023-02-09" />

  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  
  
<link rel="prev" href="index.html"/>
<link rel="next" href="quick-start-froc-data-format.html"/>
<script src="libs/jquery-3.6.0/jquery-3.6.0.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/fuse.js@6.4.6/dist/fuse.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-clipboard.css" rel="stylesheet" />








<link href="libs/anchor-sections-1.1.0/anchor-sections.css" rel="stylesheet" />
<link href="libs/anchor-sections-1.1.0/anchor-sections-hash.css" rel="stylesheet" />
<script src="libs/anchor-sections-1.1.0/anchor-sections.js"></script>


<style type="text/css">
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { color: #008000; } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { color: #008000; font-weight: bold; } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>

<style type="text/css">
/* Used with Pandoc 2.11+ new --citeproc when CSL is used */
div.csl-bib-body { }
div.csl-entry {
  clear: both;
}
.hanging div.csl-entry {
  margin-left:2em;
  text-indent:-2em;
}
div.csl-left-margin {
  min-width:2em;
  float:left;
}
div.csl-right-inline {
  margin-left:2em;
  padding-left:1em;
}
div.csl-indent {
  margin-left: 2em;
}
</style>

<link rel="stylesheet" href="style.css" type="text/css" />
</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li><a href="./">RJafroc documentation</a></li>

<li class="divider"></li>
<li class="chapter" data-level="1" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i><b>1</b> Preface</a>
<ul>
<li class="chapter" data-level="1.1" data-path="index.html"><a href="index.html#quick-start-index-rationale-and-organization"><i class="fa fa-check"></i><b>1.1</b> Rationale and Organization</a></li>
<li class="chapter" data-level="1.2" data-path="index.html"><a href="index.html#quick-start-index-getting-help"><i class="fa fa-check"></i><b>1.2</b> Getting help on the software</a></li>
<li class="chapter" data-level="1.3" data-path="index.html"><a href="index.html#quick-start-index-acknowledgements"><i class="fa fa-check"></i><b>1.3</b> Acknowledgements</a>
<ul>
<li class="chapter" data-level="1.3.1" data-path="index.html"><a href="index.html#persons-who-have-stimulated-my-thinking"><i class="fa fa-check"></i><b>1.3.1</b> Persons who have stimulated my thinking:</a></li>
</ul></li>
<li class="chapter" data-level="1.4" data-path="index.html"><a href="index.html#quick-start-index-contributors"><i class="fa fa-check"></i><b>1.4</b> Contributors to the software</a></li>
<li class="chapter" data-level="1.5" data-path="index.html"><a href="index.html#quick-start-index-dataset-contributors"><i class="fa fa-check"></i><b>1.5</b> Dataset contributors</a></li>
<li class="chapter" data-level="1.6" data-path="index.html"><a href="index.html#quick-start-index-how-to-access-files"><i class="fa fa-check"></i><b>1.6</b> Accessing files and code</a></li>
</ul></li>
<li class="part"><span><b>Quick Start</b></span></li>
<li class="chapter" data-level="2" data-path="quick-start-roc.html"><a href="quick-start-roc.html"><i class="fa fa-check"></i><b>2</b> JAFROC ROC data</a>
<ul>
<li class="chapter" data-level="2.1" data-path="quick-start-roc.html"><a href="quick-start-roc.html#quick-start-roc-how-much-finished"><i class="fa fa-check"></i><b>2.1</b> How much finished</a></li>
<li class="chapter" data-level="2.2" data-path="quick-start-roc.html"><a href="quick-start-roc.html#quick-start-roc-intro"><i class="fa fa-check"></i><b>2.2</b> Introduction</a></li>
<li class="chapter" data-level="2.3" data-path="quick-start-roc.html"><a href="quick-start-roc.html#quick-start-roc-note"><i class="fa fa-check"></i><b>2.3</b> Note to existing users</a></li>
<li class="chapter" data-level="2.4" data-path="quick-start-roc.html"><a href="quick-start-roc.html#quick-start-roc-excel"><i class="fa fa-check"></i><b>2.4</b> Excel ROC file format</a>
<ul>
<li class="chapter" data-level="2.4.1" data-path="quick-start-roc.html"><a href="quick-start-roc.html#quick-start-roc-truth"><i class="fa fa-check"></i><b>2.4.1</b> The <code>Truth</code> worksheet</a></li>
<li class="chapter" data-level="2.4.2" data-path="quick-start-roc.html"><a href="quick-start-roc.html#quick-start-roc-fp"><i class="fa fa-check"></i><b>2.4.2</b> The false positive (FP/NL) worksheet</a></li>
<li class="chapter" data-level="2.4.3" data-path="quick-start-roc.html"><a href="quick-start-roc.html#quick-start-roc-tp"><i class="fa fa-check"></i><b>2.4.3</b> The true positive (TP/LL) worksheet</a></li>
</ul></li>
<li class="chapter" data-level="2.5" data-path="quick-start-roc.html"><a href="quick-start-roc.html#quick-start-roc-read"><i class="fa fa-check"></i><b>2.5</b> Reading the Excel file</a></li>
<li class="chapter" data-level="2.6" data-path="quick-start-roc.html"><a href="quick-start-roc.html#quick-start-roc-structure-dataset"><i class="fa fa-check"></i><b>2.6</b> Structure of dataset object</a></li>
</ul></li>
<li class="chapter" data-level="3" data-path="quick-start-froc-data-format.html"><a href="quick-start-froc-data-format.html"><i class="fa fa-check"></i><b>3</b> JAFROC FROC data</a>
<ul>
<li class="chapter" data-level="3.1" data-path="quick-start-froc-data-format.html"><a href="quick-start-froc-data-format.html#quick-start-froc-how-much-finished"><i class="fa fa-check"></i><b>3.1</b> TBA How much finished</a></li>
<li class="chapter" data-level="3.2" data-path="quick-start-froc-data-format.html"><a href="quick-start-froc-data-format.html#quick-start-froc-data-intro"><i class="fa fa-check"></i><b>3.2</b> Introduction</a></li>
<li class="chapter" data-level="3.3" data-path="quick-start-froc-data-format.html"><a href="quick-start-froc-data-format.html#quick-start-froc-data-truth"><i class="fa fa-check"></i><b>3.3</b> The <code>Truth</code> worksheet</a></li>
<li class="chapter" data-level="3.4" data-path="quick-start-froc-data-format.html"><a href="quick-start-froc-data-format.html#quick-start-froc-data-structure"><i class="fa fa-check"></i><b>3.4</b> Reading the FROC dataset</a></li>
<li class="chapter" data-level="3.5" data-path="quick-start-froc-data-format.html"><a href="quick-start-froc-data-format.html#quick-start-froc-data-fp"><i class="fa fa-check"></i><b>3.5</b> The false positive (FP) ratings</a></li>
<li class="chapter" data-level="3.6" data-path="quick-start-froc-data-format.html"><a href="quick-start-froc-data-format.html#quick-start-froc-data-tp"><i class="fa fa-check"></i><b>3.6</b> The true positive (TP) ratings</a></li>
<li class="chapter" data-level="3.7" data-path="quick-start-froc-data-format.html"><a href="quick-start-froc-data-format.html#quick-start-froc-data-distribution-diseased-cases"><i class="fa fa-check"></i><b>3.7</b> On the distribution of numbers of lesions in diseased cases</a>
<ul>
<li class="chapter" data-level="3.7.1" data-path="quick-start-froc-data-format.html"><a href="quick-start-froc-data-format.html#quick-start-froc-data-lesion-distribution"><i class="fa fa-check"></i><b>3.7.1</b> Definition of <code>lesDistr</code> array</a></li>
</ul></li>
<li class="chapter" data-level="3.8" data-path="quick-start-froc-data-format.html"><a href="quick-start-froc-data-format.html#quick-start-froc-data-lesion-weights"><i class="fa fa-check"></i><b>3.8</b> TBA Definition of <code>lesWghtDistr</code> array</a></li>
</ul></li>
<li class="chapter" data-level="4" data-path="quick-start-dbm-text.html"><a href="quick-start-dbm-text.html"><i class="fa fa-check"></i><b>4</b> DBM analysis text output</a>
<ul>
<li class="chapter" data-level="4.1" data-path="quick-start-dbm-text.html"><a href="quick-start-dbm-text.html#quick-start-dbm-text-how-much-finished"><i class="fa fa-check"></i><b>4.1</b> TBA How much finished</a></li>
<li class="chapter" data-level="4.2" data-path="quick-start-dbm-text.html"><a href="quick-start-dbm-text.html#quick-start-dbm-text-intro"><i class="fa fa-check"></i><b>4.2</b> Introduction</a></li>
<li class="chapter" data-level="4.3" data-path="quick-start-dbm-text.html"><a href="quick-start-dbm-text.html#quick-start-dbm-text-analyze-dataset"><i class="fa fa-check"></i><b>4.3</b> Analyzing the ROC dataset</a></li>
<li class="chapter" data-level="4.4" data-path="quick-start-dbm-text.html"><a href="quick-start-dbm-text.html#quick-start-dbm-text-explanation"><i class="fa fa-check"></i><b>4.4</b> Explanation of the output</a></li>
</ul></li>
<li class="chapter" data-level="5" data-path="quick-start-or-text.html"><a href="quick-start-or-text.html"><i class="fa fa-check"></i><b>5</b> OR analysis text output</a>
<ul>
<li class="chapter" data-level="5.1" data-path="quick-start-or-text.html"><a href="quick-start-or-text.html#quick-start-or-text-how-much-finished"><i class="fa fa-check"></i><b>5.1</b> TBA How much finished</a></li>
<li class="chapter" data-level="5.2" data-path="quick-start-or-text.html"><a href="quick-start-or-text.html#quick-start-or-text-intro"><i class="fa fa-check"></i><b>5.2</b> Introduction</a></li>
<li class="chapter" data-level="5.3" data-path="quick-start-or-text.html"><a href="quick-start-or-text.html#quick-start-or-text-analyze-dataset"><i class="fa fa-check"></i><b>5.3</b> Analyzing the ROC dataset</a></li>
<li class="chapter" data-level="5.4" data-path="quick-start-or-text.html"><a href="quick-start-or-text.html#quick-start-or-text-explanation"><i class="fa fa-check"></i><b>5.4</b> Explanation of the output</a></li>
</ul></li>
<li class="chapter" data-level="6" data-path="quick-start-or-excel.html"><a href="quick-start-or-excel.html"><i class="fa fa-check"></i><b>6</b> OR analysis Excel output</a>
<ul>
<li class="chapter" data-level="6.1" data-path="quick-start-or-excel.html"><a href="quick-start-or-excel.html#quick-start-or-excel-how-much-finished"><i class="fa fa-check"></i><b>6.1</b> TBA How much finished</a></li>
<li class="chapter" data-level="6.2" data-path="quick-start-or-excel.html"><a href="quick-start-or-excel.html#quick-start-or-excel-intro"><i class="fa fa-check"></i><b>6.2</b> Introduction</a></li>
<li class="chapter" data-level="6.3" data-path="quick-start-or-excel.html"><a href="quick-start-or-excel.html#quick-start-or-excel-output"><i class="fa fa-check"></i><b>6.3</b> Generating the Excel output file</a></li>
</ul></li>
<li class="part"><span><b>ROC sample size</b></span></li>
<li class="chapter" data-level="7" data-path="roc-sample-size-dbm.html"><a href="roc-sample-size-dbm.html"><i class="fa fa-check"></i><b>7</b> ROC-DBM sample size</a>
<ul>
<li class="chapter" data-level="7.1" data-path="roc-sample-size-dbm.html"><a href="roc-sample-size-dbm.html#roc-sample-size-dbm-how-much-finished"><i class="fa fa-check"></i><b>7.1</b> TBA How much finished</a></li>
<li class="chapter" data-level="7.2" data-path="roc-sample-size-dbm.html"><a href="roc-sample-size-dbm.html#roc-sample-size-dbm-introduction"><i class="fa fa-check"></i><b>7.2</b> Introduction</a></li>
<li class="chapter" data-level="7.3" data-path="roc-sample-size-dbm.html"><a href="roc-sample-size-dbm.html#StatPower1"><i class="fa fa-check"></i><b>7.3</b> Statistical Power</a>
<ul>
<li class="chapter" data-level="7.3.1" data-path="roc-sample-size-dbm.html"><a href="roc-sample-size-dbm.html#observed-vs.-anticipated-effect-size"><i class="fa fa-check"></i><b>7.3.1</b> Observed vs. anticipated effect-size</a></li>
<li class="chapter" data-level="7.3.2" data-path="roc-sample-size-dbm.html"><a href="roc-sample-size-dbm.html#roc-sample-size-dbm-dependence-of-stats-power"><i class="fa fa-check"></i><b>7.3.2</b> Dependence of statistical power on estimates of model parameters</a></li>
<li class="chapter" data-level="7.3.3" data-path="roc-sample-size-dbm.html"><a href="roc-sample-size-dbm.html#roc-sample-size-dbm-RRRC-sample-size-estimation"><i class="fa fa-check"></i><b>7.3.3</b> Formulae for random-reader random-case (RRRC) sample size estimation</a></li>
<li class="chapter" data-level="7.3.4" data-path="roc-sample-size-dbm.html"><a href="roc-sample-size-dbm.html#roc-sample-size-dbm-sig-testing"><i class="fa fa-check"></i><b>7.3.4</b> Significance testing</a></li>
<li class="chapter" data-level="7.3.5" data-path="roc-sample-size-dbm.html"><a href="roc-sample-size-dbm.html#roc-sample-size-dbm-pvalue-ci"><i class="fa fa-check"></i><b>7.3.5</b> p-value and confidence interval</a></li>
<li class="chapter" data-level="7.3.6" data-path="roc-sample-size-dbm.html"><a href="roc-sample-size-dbm.html#roc-sample-size-dbm-CompareDBM2OR"><i class="fa fa-check"></i><b>7.3.6</b> Comparing DBM to Obuchowski and Rockette for single-reader multiple-treatments</a></li>
</ul></li>
<li class="chapter" data-level="7.4" data-path="roc-sample-size-dbm.html"><a href="roc-sample-size-dbm.html#roc-sample-size-dbm-FRRC-sample-size-estimation"><i class="fa fa-check"></i><b>7.4</b> Formulae for fixed-reader random-case (FRRC) sample size estimation</a>
<ul>
<li class="chapter" data-level="7.4.1" data-path="roc-sample-size-dbm.html"><a href="roc-sample-size-dbm.html#roc-sample-size-dbm-RRFC-sample-size-estimation"><i class="fa fa-check"></i><b>7.4.1</b> Formulae for random-reader fixed-case (RRFC) sample size estimation</a></li>
<li class="chapter" data-level="7.4.2" data-path="roc-sample-size-dbm.html"><a href="roc-sample-size-dbm.html#roc-sample-size-dbm-FRRCAnalysis"><i class="fa fa-check"></i><b>7.4.2</b> Fixed-reader random-case (FRRC) analysis TBA</a></li>
<li class="chapter" data-level="7.4.3" data-path="roc-sample-size-dbm.html"><a href="roc-sample-size-dbm.html#roc-sample-size-dbm-RRFCAnalysis"><i class="fa fa-check"></i><b>7.4.3</b> Random-reader fixed-case (RRFC) analysis</a></li>
<li class="chapter" data-level="7.4.4" data-path="roc-sample-size-dbm.html"><a href="roc-sample-size-dbm.html#roc-sample-size-dbm-STMRAnalysis"><i class="fa fa-check"></i><b>7.4.4</b> Single-treatment multiple-reader analysis</a></li>
</ul></li>
<li class="chapter" data-level="7.5" data-path="roc-sample-size-dbm.html"><a href="roc-sample-size-dbm.html#discussionsummary2"><i class="fa fa-check"></i><b>7.5</b> Discussion/Summary/2</a></li>
</ul></li>
<li class="part"><span><b>FROC analysis</b></span></li>
<li class="chapter" data-level="8" data-path="analyzing-froc-data.html"><a href="analyzing-froc-data.html"><i class="fa fa-check"></i><b>8</b> Analyzing FROC data</a>
<ul>
<li class="chapter" data-level="8.1" data-path="analyzing-froc-data.html"><a href="analyzing-froc-data.html#analyzing-froc-data-how-much-finished"><i class="fa fa-check"></i><b>8.1</b> TBA How much finished</a></li>
<li class="chapter" data-level="8.2" data-path="analyzing-froc-data.html"><a href="analyzing-froc-data.html#analyzing-froc-data-intro"><i class="fa fa-check"></i><b>8.2</b> Introduction</a></li>
<li class="chapter" data-level="8.3" data-path="analyzing-froc-data.html"><a href="analyzing-froc-data.html#analyzing-froc-data-example1"><i class="fa fa-check"></i><b>8.3</b> Example 1</a></li>
<li class="chapter" data-level="8.4" data-path="analyzing-froc-data.html"><a href="analyzing-froc-data.html#analyzing-froc-data-plotting"><i class="fa fa-check"></i><b>8.4</b> TBA Plotting wAFROC and ROC curves</a></li>
<li class="chapter" data-level="8.5" data-path="analyzing-froc-data.html"><a href="analyzing-froc-data.html#analyzing-froc-data-reporting"><i class="fa fa-check"></i><b>8.5</b> Reporting an FROC study</a></li>
<li class="chapter" data-level="8.6" data-path="analyzing-froc-data.html"><a href="analyzing-froc-data.html#crossed-treatment-analysis"><i class="fa fa-check"></i><b>8.6</b> Crossed-treatment analysis</a></li>
<li class="chapter" data-level="8.7" data-path="analyzing-froc-data.html"><a href="analyzing-froc-data.html#analyzing-froc-data-rjafroc-history"><i class="fa fa-check"></i><b>8.7</b> Discussion / Summary</a></li>
</ul></li>
<li class="part"><span><b>FROC sample size</b></span></li>
<li class="chapter" data-level="9" data-path="froc-sample-size.html"><a href="froc-sample-size.html"><i class="fa fa-check"></i><b>9</b> Sample size estimation for FROC studies</a>
<ul>
<li class="chapter" data-level="9.1" data-path="froc-sample-size.html"><a href="froc-sample-size.html#froc-sample-size-how-much-finished"><i class="fa fa-check"></i><b>9.1</b> TBA How much finished</a></li>
<li class="chapter" data-level="9.2" data-path="froc-sample-size.html"><a href="froc-sample-size.html#overview"><i class="fa fa-check"></i><b>9.2</b> Overview</a></li>
<li class="chapter" data-level="9.3" data-path="froc-sample-size.html"><a href="froc-sample-size.html#part-1"><i class="fa fa-check"></i><b>9.3</b> Part 1</a>
<ul>
<li class="chapter" data-level="9.3.1" data-path="froc-sample-size.html"><a href="froc-sample-size.html#froc-sample-size-intro"><i class="fa fa-check"></i><b>9.3.1</b> Introduction</a></li>
<li class="chapter" data-level="9.3.2" data-path="froc-sample-size.html"><a href="froc-sample-size.html#relating-an-roc-effect-size-to-a-wafroc-effect-size"><i class="fa fa-check"></i><b>9.3.2</b> Relating an ROC effect-size to a wAFROC effect-size</a></li>
<li class="chapter" data-level="9.3.3" data-path="froc-sample-size.html"><a href="froc-sample-size.html#computing-the-respective-variance-components"><i class="fa fa-check"></i><b>9.3.3</b> Computing the respective variance components</a></li>
<li class="chapter" data-level="9.3.4" data-path="froc-sample-size.html"><a href="froc-sample-size.html#comparing-roc-power-to-wafroc-power-for-equivalent-effect-sizes"><i class="fa fa-check"></i><b>9.3.4</b> Comparing ROC power to wAFROC power for equivalent effect-sizes</a></li>
</ul></li>
<li class="chapter" data-level="9.4" data-path="froc-sample-size.html"><a href="froc-sample-size.html#part-2"><i class="fa fa-check"></i><b>9.4</b> Part 2</a>
<ul>
<li class="chapter" data-level="9.4.1" data-path="froc-sample-size.html"><a href="froc-sample-size.html#introduction"><i class="fa fa-check"></i><b>9.4.1</b> Introduction</a></li>
<li class="chapter" data-level="9.4.2" data-path="froc-sample-size.html"><a href="froc-sample-size.html#constructing-the-nh-model-for-the-dataset"><i class="fa fa-check"></i><b>9.4.2</b> Constructing the NH model for the dataset</a></li>
<li class="chapter" data-level="9.4.3" data-path="froc-sample-size.html"><a href="froc-sample-size.html#extracting-the-wafroc-variance-components"><i class="fa fa-check"></i><b>9.4.3</b> Extracting the wAFROC variance components</a></li>
<li class="chapter" data-level="9.4.4" data-path="froc-sample-size.html"><a href="froc-sample-size.html#wafroc-power-for-specified-roc-effect-size-number-of-readers-j-and-number-of-cases-k"><i class="fa fa-check"></i><b>9.4.4</b> wAFROC power for specified ROC effect size, number of readers J and number of cases K</a></li>
<li class="chapter" data-level="9.4.5" data-path="froc-sample-size.html"><a href="froc-sample-size.html#wafroc-number-of-cases-for-80-power-for-a-given-number-of-readers-j"><i class="fa fa-check"></i><b>9.4.5</b> wAFROC number of cases for 80% power for a given number of readers J</a></li>
<li class="chapter" data-level="9.4.6" data-path="froc-sample-size.html"><a href="froc-sample-size.html#wafroc-fom-power-for-a-given-number-of-readers-j-and-cases-k"><i class="fa fa-check"></i><b>9.4.6</b> wAFROC-FOM power for a given number of readers J and cases K</a></li>
</ul></li>
</ul></li>
<li class="part"><span><b>Software details</b></span></li>
<li class="chapter" data-level="10" data-path="dataset-object-details.html"><a href="dataset-object-details.html"><i class="fa fa-check"></i><b>10</b> Excel file and dataset details</a>
<ul>
<li class="chapter" data-level="10.1" data-path="dataset-object-details.html"><a href="dataset-object-details.html#introduction-1"><i class="fa fa-check"></i><b>10.1</b> Introduction</a></li>
<li class="chapter" data-level="10.2" data-path="dataset-object-details.html"><a href="dataset-object-details.html#dataset-object-details-roc-dataset"><i class="fa fa-check"></i><b>10.2</b> ROC dataset</a>
<ul>
<li class="chapter" data-level="10.2.1" data-path="dataset-object-details.html"><a href="dataset-object-details.html#dataset-object-details-structure-roc-dataset"><i class="fa fa-check"></i><b>10.2.1</b> The structure of a factorial ROC dataset object</a></li>
<li class="chapter" data-level="10.2.2" data-path="dataset-object-details.html"><a href="dataset-object-details.html#dataset-object-details-read-datafile-correspondence-nl-fp"><i class="fa fa-check"></i><b>10.2.2</b> The <code>FP</code> worksheet</a></li>
<li class="chapter" data-level="10.2.3" data-path="dataset-object-details.html"><a href="dataset-object-details.html#dataset-object-details-read-datafile-correspondence-ll-tp"><i class="fa fa-check"></i><b>10.2.3</b> The <code>TP</code> worksheet</a></li>
<li class="chapter" data-level="10.2.4" data-path="dataset-object-details.html"><a href="dataset-object-details.html#dataset-object-details-read-datafile-correspondence-case-index-vs-case-id"><i class="fa fa-check"></i><b>10.2.4</b> caseIndex vs. caseID</a></li>
</ul></li>
<li class="chapter" data-level="10.3" data-path="dataset-object-details.html"><a href="dataset-object-details.html#dataset-object-details-froc-dataset"><i class="fa fa-check"></i><b>10.3</b> FROC dataset</a>
<ul>
<li class="chapter" data-level="10.3.1" data-path="dataset-object-details.html"><a href="dataset-object-details.html#dataset-object-details-structure-froc-dataset"><i class="fa fa-check"></i><b>10.3.1</b> The structure of a factorial FROC dataset</a></li>
<li class="chapter" data-level="10.3.2" data-path="dataset-object-details.html"><a href="dataset-object-details.html#dataset-object-truth-table-str"><i class="fa fa-check"></i><b>10.3.2</b> <code>truthTableStr</code></a></li>
<li class="chapter" data-level="10.3.3" data-path="dataset-object-details.html"><a href="dataset-object-details.html#the-fp-worksheet"><i class="fa fa-check"></i><b>10.3.3</b> The FP worksheet</a></li>
<li class="chapter" data-level="10.3.4" data-path="dataset-object-details.html"><a href="dataset-object-details.html#the-tp-worksheet"><i class="fa fa-check"></i><b>10.3.4</b> The TP worksheet</a></li>
</ul></li>
</ul></li>
<li class="divider"></li>
<li><a href="https://github.com/rstudio/bookdown" target="blank">Published with bookdown</a></li>

</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">The RJafroc Quick Start Book</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="quick-start-roc" class="section level1 hasAnchor" number="2">
<h1><span class="header-section-number">Chapter 2</span> JAFROC ROC data<a href="quick-start-roc.html#quick-start-roc" class="anchor-section" aria-label="Anchor link to header"></a></h1>
<div id="quick-start-roc-how-much-finished" class="section level2 hasAnchor" number="2.1">
<h2><span class="header-section-number">2.1</span> How much finished<a href="quick-start-roc.html#quick-start-roc-how-much-finished" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>50% (remove duplication)</p>
</div>
<div id="quick-start-roc-intro" class="section level2 hasAnchor" number="2.2">
<h2><span class="header-section-number">2.2</span> Introduction<a href="quick-start-roc.html#quick-start-roc-intro" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<ul>
<li>The JAFROC Excel data format was adopted circa. 2006. The purpose of this chapter is to explain the format of this file.
<!-- * Reading this file into a dataset object suitable for `RJafroc` analysis is the subject of the next chapter.  -->
<!-- * Background on observer performance methods are in my book [@chakraborty2017observer]. -->
<!-- * I will start with Receiver Operating Characteristic (ROC) data [@metz1978rocmethodology] as this is by far the simplest paradigm. -->
<!-- * In the ROC paradigm the observer assigns a rating to each image. A rating is an ordered numeric label, and, in our convention, higher values represent greater certainty or **confidence level** for presence of disease. With human observers, a 5 (or 6) point rating scale is typically used, with 1 representing highest confidence for *absence* of disease and 5 (or 6) representing highest confidence for *presence* of disease. Intermediate values represent intermediate confidence levels for presence or absence of disease.  -->
<!-- * In the ROC paradigm location information, if applicable, associated with the disease, is not collected.  -->
<!-- * There is no restriction to 5 or 6 ratings. With algorithmic observers, e.g., computer aided detection (CAD) algorithms, the rating could be a floating point number and have infinite precision. All that is required is that higher values correspond to greater confidence in presence of disease - termed a *positive-directed* rating scale. If lower numbers correspond to greater confidence a transformation $R \rightarrow \max(R) - R + 1$, where $\max(R)$ is the maximum rating, over all readers, modalities and cases, will convert a negative-directed rating scale to a positive directed rating scale.  --></li>
</ul>
</div>
<div id="quick-start-roc-note" class="section level2 hasAnchor" number="2.3">
<h2><span class="header-section-number">2.3</span> Note to existing users<a href="quick-start-roc.html#quick-start-roc-note" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<ul>
<li>The Excel file format has recently undergone changes involving three additional columns in the <code>Truth</code> worksheet. The changes are needed for easier generalization to other data collection paradigms (e.g., split plot designs) and for better data entry error control.</li>
<li><code>RJafroc</code> will work with original format Excel files provided the <code>NewExcelFileFormat</code> flag is set to <code>FALSE</code>, the default.</li>
<li>Going forward, one should use the new format, described below, and use <code>NewExcelFileFormat = TRUE</code> to read the file.</li>
</ul>
</div>
<div id="quick-start-roc-excel" class="section level2 hasAnchor" number="2.4">
<h2><span class="header-section-number">2.4</span> Excel ROC file format<a href="quick-start-roc.html#quick-start-roc-excel" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<ul>
<li>The illustrations in this chapter correspond to Excel file <code>R/quick-start/rocCr.xlsx</code> in the project directory. See Section @ref(#quick-start-index-how-to-access-files) for how to get this file, and all other files and code in this <code>bookdown</code> book, to your computer.</li>
<li>This is a <em>toy file</em>, i.e., an artificial small dataset used to illustrate essential features of the data format.</li>
<li>The Excel file has three worksheets: <code>Truth</code>, <code>NL</code> (or <code>FP</code>) and <code>LL</code> (or <code>TP</code>). The worksheet names are case insensitive.</li>
</ul>
<p><img src="images/quick-start/rocCrTruth.png" style="width:100.0%" /></p>
<div id="quick-start-roc-truth" class="section level3 hasAnchor" number="2.4.1">
<h3><span class="header-section-number">2.4.1</span> The <code>Truth</code> worksheet<a href="quick-start-roc.html#quick-start-roc-truth" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<ul>
<li>The <code>Truth</code> worksheet contains 6 columns: <code>CaseID</code>, <code>LesionID</code>, <code>Weight</code>, <code>ReaderID</code>, <code>ModalityID</code> and <code>Paradigm</code>.</li>
<li><code>CaseID</code>: <strong>unique integers</strong>, one per case, representing the cases in the dataset. In the current dataset, the non-diseased cases are labeled <code>1</code>, <code>2</code> and <code>3</code>, while the diseased cases are labeled <code>70</code>, <code>71</code>, <code>72</code>, <code>73</code> and <code>74</code>. The values do not have to be consecutive integers; they need not be ordered; the only requirement is that they be <strong>unique integers</strong>.</li>
<li><code>LesionID</code>: integers 0 or 1, with each 0 representing a non-diseased case and each 1 representing a diseased case.</li>
<li><code>Weight</code>: this field is not used for ROC data.</li>
<li><code>ReaderID</code>: a <strong>comma-separated</strong> string containing the reader labels, each represented by a <strong>unique integer</strong>, that have interpreted the case. In the example shown below each cell has the value <code>0, 1, 2, 3, 4</code> meaning that each of these readers has interpreted all cases.
<ul>
<li><strong>With multiple readers each cell in this column has to be text formatted as otherwise Excel will not accept it.</strong></li>
<li>Select the worksheet, then <code>Format</code> - <code>Cells</code> - <code>Number</code> - <code>Text</code> - <code>OK</code>.</li>
</ul></li>
<li><code>ModalityID</code>: a comma-separated string containing the modality labels, each represented by a <strong>unique integer</strong>. In the example each cell has the value <code>0, 1</code>.
<ul>
<li><strong>With multiple modalities each cell has to be text formatted as otherwise Excel will not accept it.</strong></li>
<li>Format the cells as described above.</li>
</ul></li>
<li><code>Paradigm</code>: this column contains two cells, <code>ROC</code> and <code>factorial</code>. It informs the software that this is an ROC dataset, and the design is factorial, meaning each reader has interpreted each case in each modality.</li>
<li>There are 5 diseased cases in the dataset (the number of 1’s in the <code>LesionID</code> column of the <code>Truth</code> worksheet).</li>
<li>There are 3 non-diseased cases in the dataset (the number of 0’s in the <code>LesionID</code> column).</li>
<li>There are 5 readers in the dataset (each cell in the <code>ReaderID</code> column contains the string <code>0, 1, 2, 3, 4</code>).</li>
<li>There are 2 modalities in the dataset (each cell in the <code>ModalityID</code> column contains the string <code>0, 1</code>).</li>
</ul>
</div>
<div id="quick-start-roc-fp" class="section level3 hasAnchor" number="2.4.2">
<h3><span class="header-section-number">2.4.2</span> The false positive (FP/NL) worksheet<a href="quick-start-roc.html#quick-start-roc-fp" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p><img src="images/quick-start/rocCrFp.png" style="width:100.0%" /></p>
<ul>
<li>It consists of 4 columns, each of length 30 (# of modalities x number of readers x number of non-diseased cases).</li>
<li><code>ReaderID</code>: the reader labels: <code>0</code>, <code>1</code>, <code>2</code>, <code>3</code> and <code>4</code>. Each reader label occurs 6 times (# of modalities x number of non-diseased cases).</li>
<li><code>ModalityID</code>: the modality or treatment labels: <code>0</code> and <code>1</code>. Each label occurs 15 times (# of readers x number of non-diseased cases).</li>
<li><code>CaseID</code>: the case labels for non-diseased cases: <code>1</code>, <code>2</code> and <code>3</code>. Each label occurs 10 times (# of modalities x # of readers).</li>
<li>The label of a diseased case cannot occur in the FP worksheet. If it does the software generates an error.</li>
<li><code>FP_Rating</code>: the floating point ratings of non-diseased cases. Each row of this worksheet contains a rating corresponding to the values of <code>ReaderID</code>, <code>ModalityID</code> and <code>CaseID</code> for that row.</li>
</ul>
</div>
<div id="quick-start-roc-tp" class="section level3 hasAnchor" number="2.4.3">
<h3><span class="header-section-number">2.4.3</span> The true positive (TP/LL) worksheet<a href="quick-start-roc.html#quick-start-roc-tp" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p><img src="images/quick-start/rocCrTp.png" style="width:100.0%" /></p>
<ul>
<li>It consists of 5 columns, each of length 50 (# of modalities x number of readers x number of diseased cases).</li>
<li><code>ReaderID</code>: the reader labels: <code>0</code>, <code>1</code>, <code>2</code>, <code>3</code> and <code>4</code>. Each reader label occurs 10 times (# of modalities x number of diseased cases).</li>
<li><code>ModalityID</code>: the modality or treatment labels: <code>0</code> and <code>1</code>. Each label occurs 25 times (# of readers x number of diseased cases).</li>
<li><code>LesionID</code>: For an ROC dataset this column contains fifty 1’s (each diseased case has one lesion).</li>
<li><code>CaseID</code>: the case labels for non-diseased cases: <code>70</code>, <code>71</code>, <code>72</code>, <code>73</code> and <code>74</code>. Each label occurs 10 times (# of modalities x # of readers). For an ROC dataset the label of a non-diseased case cannot occur in the TP worksheet. If it does the software generates an error.</li>
<li><code>TP_Rating</code>: the floating point ratings of diseased cases. Each row of this worksheet contains a rating corresponding to the values of <code>ReaderID</code>, <code>ModalityID</code>, <code>LesionID</code> and <code>CaseID</code> for that row.</li>
</ul>
</div>
</div>
<div id="quick-start-roc-read" class="section level2 hasAnchor" number="2.5">
<h2><span class="header-section-number">2.5</span> Reading the Excel file<a href="quick-start-roc.html#quick-start-roc-read" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>The following code reads the Excel file and saves it to object <code>x</code>.</p>
<div class="sourceCode" id="cb1"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb1-1"><a href="quick-start-roc.html#cb1-1" aria-hidden="true" tabindex="-1"></a>x <span class="ot">&lt;-</span> <span class="fu">DfReadDataFile</span>(<span class="st">&quot;R/quick-start/rocCr.xlsx&quot;</span>, <span class="at">newExcelFileFormat =</span> <span class="cn">TRUE</span>)</span></code></pre></div>
<ul>
<li><p><code>newExcelFileFormat</code> is set to <code>TRUE</code> as otherwise columns D - F in the <code>Truth</code> worksheet are ignored and the dataset is assumed to be factorial, with <code>dataType</code> “automatically” determined from the contents of the FP and TP worksheets. <a href="#fn1" class="footnote-ref" id="fnref1"><sup>1</sup></a></p></li>
<li><p>Flag <code>newExcelFileFormat = FALSE</code>, the default, is for compatibility with the original JAFROC format Excel format, which did not have columns D - F in the <code>Truth</code> worksheet. Its usage is deprecated.</p></li>
</ul>
</div>
<div id="quick-start-roc-structure-dataset" class="section level2 hasAnchor" number="2.6">
<h2><span class="header-section-number">2.6</span> Structure of dataset object<a href="quick-start-roc.html#quick-start-roc-structure-dataset" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>Most users will not need to be concerned with the internal structure of the dataset object <code>x</code>. For those interested in it, for my reference, and for ease of future maintenance of the software, this is deferred to Section <a href="dataset-object-details.html#dataset-object-details-structure-roc-dataset">10.2.1</a>.</p>

</div>
</div>
<div class="footnotes">
<hr />
<ol start="1">
<li id="fn1"><p>The assumptions underlying the “automatic” determination could be defeated by data entry errors.<a href="quick-start-roc.html#fnref1" class="footnote-back">↩︎</a></p></li>
</ol>
</div>
            </section>

          </div>
        </div>
      </div>
<a href="index.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="quick-start-froc-data-format.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/clipboard.min.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-clipboard.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": false,
"facebook": true,
"twitter": true,
"linkedin": false,
"weibo": false,
"instapaper": false,
"vk": false,
"whatsapp": false,
"all": ["facebook", "twitter", "linkedin", "weibo", "instapaper"]
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": null,
"text": null
},
"history": {
"link": null,
"text": null
},
"view": {
"link": null,
"text": null
},
"download": ["RJafrocQuickStart.pdf", "RJafrocQuickStart.epub"],
"search": {
"engine": "fuse",
"options": null
},
"toc": {
"collapse": "subsection"
}
});
});
</script>

<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    var src = "true";
    if (src === "" || src === "true") src = "https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.9/latest.js?config=TeX-MML-AM_CHTML";
    if (location.protocol !== "file:")
      if (/^https?:/.test(src))
        src = src.replace(/^https?:/, '');
    script.src = src;
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>
</body>

</html>
